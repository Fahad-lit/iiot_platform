import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport Dashboard from './pages/Dashboard'\nimport Devices from './pages/Devices'\nimport Measurements from './pages/Measurements'\nimport Analytics from './pages/Analytics'\nimport Alerts from './pages/Alerts'\nimport Settings from './pages/Settings'\nimport './App.css'\n\nfunction App() {\n  const [sidebarOpen, setSidebarOpen] = useState(true)\n  const [isDarkMode, setIsDarkMode] = useState(false)\n\n  useEffect(() => {\n    // تحميل تفضيلات المستخدم\n    const savedDarkMode = localStorage.getItem('darkMode')\n    if (savedDarkMode) {\n      setIsDarkMode(JSON.parse(savedDarkMode))\n    }\n  }, [])\n\n  useEffect(() => {\n    // حفظ تفضيلات المستخدم\n    localStorage.setItem('darkMode', JSON.stringify(isDarkMode))\n    if (isDarkMode) {\n      document.documentElement.classList.add('dark')\n    } else {\n      document.documentElement.classList.remove('dark')\n    }\n  }, [isDarkMode])\n\n  return (\n    <Router>\n      <div className={`flex h-screen ${isDarkMode ? 'dark' : ''}`}>\n        <Sidebar isOpen={sidebarOpen} />\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          <Navbar \n            onToggleSidebar={() => setSidebarOpen(!sidebarOpen)}\n            isDarkMode={isDarkMode}\n            onToggleDarkMode={() => setIsDarkMode(!isDarkMode)}\n          />\n          <main className=\"flex-1 overflow-auto bg-gray-50 dark:bg-gray-900\">\n            <Routes>\n              <Route path=\"/\" element={<Dashboard />} />\n              <Route path=\"/devices\" element={<Devices />} />\n              <Route path=\"/measurements\" element={<Measurements />} />\n              <Route path=\"/analytics\" element={<Analytics />} />\n              <Route path=\"/alerts\" element={<Alerts />} />\n              <Route path=\"/settings\" element={<Settings />} />\n            </Routes>\n          </main>\n        </div>\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n
